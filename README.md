# Proof-of-Intent Authentication (PoIA) Banking Prototype

This prototype is a small internet banking app built to demonstrate PoIA.
High-risk actions require a cryptographic proof of intent that binds approval
to a specific action, scope, context, and time window.

## Quick start (local)

1) Create a virtual environment and install dependencies:

   python3 -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt

2) Run the server:

   uvicorn app.main:app --reload

3) Open the app in your browser:

   http://127.0.0.1:8000

## MFA (ZT-Authenticator app)

This app generates a TOTP enrollment QR code locally. Scan it with the
ZT-Authenticator mobile app (or any standard TOTP app) to enroll.

## Container (Podman)

Build and run with Podman:

   podman build -t poia-bank -f Containerfile .
   podman run --rm -p 8000:8000 -v poia_data:/data \
     -e POIA_SESSION_SECRET="change-me" \
     poia-bank

Using podman-compose (recommended for reproducibility):

   podman-compose up --build

The app will be available at `http://127.0.0.1:8000`.

## Demo flow

- Sign up or log in (admin: admin@poia.demo / admin123)
- Add beneficiaries and initiate transfers
- PoIA can be enabled for high-risk actions (transfers, beneficiary add, large withdrawals)
- Audit logs show the intent statements that were approved

## Notes

- Data is stored locally in `app/data/bank.db` (SQLite) in local mode
- In containers, data is stored in `/data` via a volume
- PoIA signatures are generated by a simulated authenticator
- MFA uses local TOTP enrollment and verification
- Enable PoIA by setting `POIA_ENABLED=true`
